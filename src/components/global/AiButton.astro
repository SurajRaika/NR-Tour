<style scoped>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

    /* --- Theme Variables (Monochrome Light) --- */
    :root {
        --color-primary: #333333; /* Dark Gray button */
        --color-hover: #000000; /* Changed to true Black on hover */
        --color-background-start: #f5f5f5; /* Very Light Gray */
        --color-background-end: #e8e8e8; /* Slightly darker Light Gray */
        --shadow-rgb: 51, 51, 51; /* RGB for #333333 */
        --text-dark: #1f2937;
        --spotlight-backdrop: rgba(187, 187, 187, 0.7); /* Dark semi-transparent backdrop */
    }

    /* --- Keyframe Animations (Continuous Only) --- */

    /* Continuous subtle movement on the button */
    @keyframes pulse-glow {
        0% { box-shadow: 0 0 0 0 rgba(var(--shadow-rgb), 0.7), 0 8px 24px rgba(0, 0, 0, 0.3); transform: scale(1); }
        70% { box-shadow: 0 0 0 20px rgba(var(--shadow-rgb), 0), 0 12px 32px rgba(0, 0, 0, 0.4); transform: scale(1.05); }
        100% { box-shadow: 0 0 0 0 rgba(var(--shadow-rgb), 0), 0 8px 24px rgba(0, 0, 0, 0.3); transform: scale(1); }
    }
    
    @keyframes float-drift {
        0%, 100% { transform: translate(0, 0) rotate(0deg); }
        33% { transform: translate(3px, -4px) rotate(2deg); }
        66% { transform: translate(-3px, 4px) rotate(-2deg); }
    }

    /* --- New: Feature Spotlight/Overlay Styling --- */
    .feature-spotlight-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: var(--spotlight-backdrop);
        z-index: 9990; /* Below the button but above everything else */
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.4s ease, visibility 0s 0.4s;
    }

    .feature-spotlight-overlay.active {
        opacity: 1;
        visibility: visible;
        transition: opacity 0.4s ease, visibility 0s 0s;
    }

    .spotlight-info-card {
        position: absolute;
        bottom: 100px;
        right: 24px;
        width: 250px;
        background: white;
        color: var(--text-dark);
        padding: 20px;
        border-radius: 1px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        font-family: 'Inter', sans-serif;
        text-align: left;
    }

    .spotlight-info-card h3 {
        margin-top: 0;
        font-size: 18px;
        font-weight: 700;
        color: var(--color-primary);
    }

    .spotlight-info-card p {
        font-size: 14px;
        margin-bottom: 15px;
    }

    .spotlight-info-card button {
        background: var(--color-primary);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 600;
        width: 100%;
        transition: background-color 0.2s;
    }

    .spotlight-info-card button:hover {
        background: var(--color-hover);
    }

    /* --- Chatbot Button --- */
    .chatbot-button {
        position: fixed;
        bottom: 24px;
        right: 24px;
        width: 64px;
        height: 64px;
        border-radius: 9999px;
        background: var(--color-primary);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        border: none;
        outline: none;
        z-index: 9999; /* Ensure it's on top */
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        /* Continuous animations remain on the button */
        animation: pulse-glow 2.5s infinite ease-in-out, float-drift 3s ease-in-out infinite; 
        /* Important: Add position:relative or z-index > 9990 to keep it visible above the overlay */
    }

    .chatbot-button:hover {
        background: var(--color-hover); /* Now uses #000000 */
        transform: scale(1.1) translateY(-2px);
        box-shadow: 0 0 0 0 rgba(var(--shadow-rgb), 0),
                    0 16px 40px rgba(0, 0, 0, 0.5);
    }

    .chatbot-button:active {
        transform: scale(0.95);
    }

    .chatbot-icon {
        transition: transform 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* --- Tooltip (Can be hidden during spotlight if desired, but keeping it visible for instruction) --- */
    .tooltip {
        position: absolute;
        right: 80px;
        top: 50%;
        transform: translateY(-50%);
        background: var(--color-primary);
        color: white;
        padding: 8px 16px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        white-space: nowrap;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
    }

    .chatbot-button:hover .tooltip {
        opacity: 1;
    }

    /* --- Demo Content (The content that gets unfocused) --- */
    .demo-content {
        max-width: 800px;
        margin: 0 auto;
        padding: 40px 20px 100px 20px; /* Added bottom padding to make room */
        color: var(--text-dark); 
        text-align: center;
    }

    .demo-content h1 {
        font-size: 48px;
        font-weight: 700;
        margin-bottom: 16px;
    }

    .demo-content p {
        font-size: 20px;
        opacity: 0.8;
    }
</style>

<div class="feature-spotlight-overlay" id="featureSpotlight">
    <div class="spotlight-info-card">
        <h3>âœ¨ Meet Your New AI Assistant!</h3>
        <p>Your personal travel guide is here! Click to get instant answers and smart suggestions. 
        (Available only if ChatGPT is installed.)</p>
        <button id="closeSpotlight">Got It!</button>
    </div>
</div>


<button class="chatbot-button" id="chatbotToggle" aria-label="Open AI Assistant">
    <span class="tooltip">Need assistance? Chat with AI</span>
    <div class="chatbot-icon" id="chatbotIcon">
        <img src="https://cdn-icons-png.flaticon.com/512/6808/6808309.png" 
             alt="AI Assistant" 
             class="w-8 h-8 object-contain invert">
    </div>
</button>

<div class="demo-content">
    <h1>Welcome to Our Website!</h1>
    <p>Explore our latest offerings and features.</p>
    <p style="margin-top: 50px;">Scroll down to see more...</p>
    <div style="height: 120vh;"></div> </div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const button = document.getElementById('chatbotToggle');
        const spotlight = document.getElementById('featureSpotlight');
        const closeButton = document.getElementById('closeSpotlight');
        
        // Key for localStorage
        const localStorageKey = 'aiAssistantSpotlightShown';
        
        // --- Feature Spotlight Logic ---
        
        const showSpotlight = () => {
            // Check if the user has already seen the spotlight
             if (localStorage.getItem(localStorageKey) === 'true') {
                 return; // Exit if already shown
             }

            // Set the timeout to show the spotlight after 2.5 seconds
            const delayInMs = 2500; 

            setTimeout(() => {
                spotlight.classList.add('active');
                
                // Add an event listener to close the spotlight
                closeButton.addEventListener('click', closeSpotlight);
                spotlight.addEventListener('click', closeSpotlight); // Close if they click the backdrop
            }, delayInMs);
        };
        
        const closeSpotlight = (event) => {
            // Prevent closing if the click is on the info card itself
            if (event && event.target.closest('.spotlight-info-card') && event.target.id !== 'closeSpotlight') {
                return;
            }

            spotlight.classList.remove('active');
            
            // Store the flag in localStorage so it doesn't show again
            localStorage.setItem(localStorageKey, 'true');
            
            // Remove listeners for cleanup
            closeButton.removeEventListener('click', closeSpotlight);
            spotlight.removeEventListener('click', closeSpotlight);
        };

        // Run the spotlight check on page load
        showSpotlight();

        // --- Chatbot Button Click Handler ---
        button.addEventListener('click', () => {
            // Example URL: You can replace this with your actual AI assistant page
            const aiAssistantURL = 'https://chatgpt.com/g/g-p-68fe2e8361dc8191a2ec831141a918cf-nr-tours-ai-assistant/project'; 
            
            // Close the spotlight if it's open before redirecting
            if (spotlight.classList.contains('active')) {
                closeSpotlight(); 
            }

            // Quick feedback animation on click
            button.style.transform = 'scale(0.9)';
            
            setTimeout(() => {
                window.location.href = aiAssistantURL;
            }, 150);
        });

        // Basic cleanup for beforeunload (though less critical here)
        window.addEventListener('beforeunload', () => {
            // No specific cleanup for this simple setup
        });
    });
</script>